{
  "flow_type": "template",
  "flow_name": "debug_kids",
  "status": "released",
  "flow_subtype": "debug",
  "rows": [
    {
      "type": "title",
      "name": "title",
      "value": "Find first item in data list with a certain property"
    },
    {
      "name": "type",
      "value": "type_b"
    },
    {
      "type": "text",
      "name": "text_templating",
      "value": "Data items approach",
      "parameter_list": "style: emphasised",
      "comments": "Does not work since we cannot stop loop. \n\nCould be resolved with filter + limit parameters on data items (once filters accept local variables)"
    },
    {
      "type": "begin_data_items",
      "name": "find_first_item_of_this_type",
      "value": "@data.comp_data_items_list",
      "comments": "Previous conditional logic inline below:"
    },
    {
      "type": "begin_display_group",
      "name": "stop_when_found_first_match_@item.id",
      "condition": "@item.type == @local.type",
      "comments": "!!!@local.stop_loop"
    },
    {
      "type": "text",
      "name": "debug_loc_type_@item.id",
      "value": "Local: @local.type"
    },
    {
      "type": "text",
      "name": "debug_item_type_@item.id",
      "value": "Item: @item.type"
    },
    {
      "type": "text",
      "name": "debug_failed",
      "value": "Condition failed",
      "condition": "@item.type !== @local.type",
      "comments": "!(@item.type == @local.type)"
    },
    {
      "type": "text",
      "name": "debug_passed",
      "value": "Condition passed",
      "condition": "@item.type == @local.type"
    },
    {
      "name": "id",
      "value": "@item.id"
    },
    {
      "name": "stop_loop",
      "value": true,
      "comments": "@item.type == @local.type"
    },
    {
      "type": "end_display_group"
    },
    {
      "type": "end_data_items"
    },
    {
      "type": "text",
      "name": "text_result",
      "value": "The first item of type @local.type is @local.id"
    },
    {
      "type": "text",
      "name": "text_js",
      "value": "Javascript workaround",
      "parameter_list": "style: emphasised"
    },
    {
      "name": "data_json",
      "value": "@data.comp_data_items_list"
    },
    {
      "name": "stringify_data",
      "value": "@calc(JSON.stringify(@local.data_json))"
    },
    {
      "type": "text",
      "name": "debug_data",
      "value": "Data: @local.stringify_data"
    },
    {
      "name": "data_array",
      "value": "@calc(Object.values(@local.data_json))"
    },
    {
      "name": "match_json",
      "value": "@calc(@local.data_array.find((row) => row.type === @local.type))"
    },
    {
      "name": "id_js",
      "value": "@local.match_json.id"
    },
    {
      "type": "text",
      "name": "text_result_js",
      "value": "The first item of type @local.type is @local.id_js"
    }
  ]
}